webpackJsonp([5],{"21zi":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"SFHOEE",data:function(){return{tableList:[{time_rate:"10%",efficiency_rate:"5%",quality_rate:"6%"}],input:"",time:""}},methods:{generateCurrentOeeChartOption:function(t){void 0===t&&(t={goal:75,oee:70});var e=void 0;return e=t.oee>=t.goal?"#30D27C":t.oee<t.goal-5?"#FF1340":"#FFC600",{title:[{show:!0,text:"目标："+t.goal+"%",top:14,left:56,textStyle:{color:"#30D27C",fontSize:14,fontFamily:"Microsoft YaHei"}},{show:!0,text:"目标：",top:14,left:14,textStyle:{color:"#fff",fontSize:14,fontFamily:"Microsoft YaHei"}}],grid:{top:0,bottom:0,left:0,right:0},tooltip:{formatter:"OEE : {c}%<br/>目标："+t.goal+"%"},toolbox:{show:!1,feature:{restore:{},saveAsImage:{}}},series:[{name:"OEE达成",type:"gauge",radius:"100%",center:["50%","50%"],detail:{formatter:"{value}%",color:e,fontSize:18,fontWeight:"bold"},data:[{value:t.oee}],splitLine:{show:!1},axisTick:{show:!1},itemStyle:{color:"#0B95FF"},axisLine:{show:!0,lineStyle:{color:[[t.goal/100-.05,"#FF1340"],[t.goal/100,"#FFC600"],[1,"#30D27C"]]}},axisLabel:{color:"#0B95FF"}}]}},generate7DaysOeeChartOption:function(t){return null==t&&((t={}).date=["12-04","12-05","12-06","12-07","12-08","12-09","12-10"],t.data=[80,75,60,88,70,75,86]),{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){return t[0].name+"<br/>"+"OEE："+t[0].value+"%"}},xAxis:{type:"category",name:"日期",data:t.date},yAxis:{type:"value",name:"OEE(%)"},series:[{data:t.data,type:"bar"}]}},renderCurrentData:function(t){var e=this.$echarts.init(document.getElementById("current_oee_chart")),a=this.generateCurrentOeeChartOption(t);e.setOption(a)},render7daysData:function(t){var e=this.$echarts.init(document.getElementById("lately_oee_chart")),a=this.generate7DaysOeeChartOption(t);e.setOption(a)},getCurrentData:function(t){this.$http.post("/getCurrentData",t).then(function(t){console.log(t)},function(t){console.log(t)})},get7DaysData:function(t){this.$http.get("/get7DaysData",t).then(function(t){console.log(t)},function(t){console.log(t)})},initData:function(t){var e=this.getCurrentData(t),a=this.get7DaysData(t);this.renderCurrentData(e),this.render7daysData(a)},search:function(t){var e={};""!=this.input&&(e.device_code=this.input),""!=this.time&&(e.start_time=this.time[0],e.end_time=this.time[1]);var a=this.getCurrentData(e);this.renderCurrentData(a)}},mounted:function(){var t=this;this.initData(""),window.onresize=function(){var e=t.$echarts.init(document.getElementById("current_oee_chart")),a=t.$echarts.init(document.getElementById("lately_oee_chart"));e.resize(),a.resize()}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"SFH_OEE"}},[t._m(0),t._v(" "),a("div",{attrs:{id:"search"}},[a("el-form",{attrs:{inline:!0}},[a("el-row",[a("el-form-item",{attrs:{label:"设备编码"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入内容",clearable:""},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"起始时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["08:00:00","20:00:00"]},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),a("el-button",{staticClass:"el-icon-search",attrs:{size:"small",type:"success",round:""},on:{click:t.search}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("hr"),t._v(" "),a("div",{attrs:{id:"SFH_OEE_body"}},[a("el-row",{attrs:{gutter:20,id:"SFH_OEE_body_top"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{staticClass:"fon"},[t._v("当前OEE")]),t._v(" "),a("div",{attrs:{id:"current_oee_chart"}})])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{staticClass:"fon"},[t._v("当前损失率")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableList}},[a("el-table-column",{attrs:{prop:"time_rate",label:"时间损失率",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"efficiency_rate",label:"效率损失率",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"quality_rate",label:"质量损失率",width:""}})],1)],1)])],1),t._v(" "),a("el-row",{attrs:{gutter:20,id:"SFH_OEE_body_bottom"}},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{staticClass:"fon"},[t._v("最近七天OEE")]),t._v(" "),a("div",{attrs:{id:"lately_oee_chart"}})])])],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"SFH_OEE_header"}},[e("h2",[this._v("设备OEE看板")])])}]};var n=a("VU/8")(i,r,!1,function(t){a("7Xo2")},null,null);e.default=n.exports},"7Xo2":function(t,e){}});
//# sourceMappingURL=5.004e977cbf75e0196d26.js.map